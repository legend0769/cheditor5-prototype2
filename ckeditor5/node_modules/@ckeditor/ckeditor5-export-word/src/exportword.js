/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x284cac}from'ckeditor5/src/core';import{ButtonView as _0x1aaf84,View as _0x335572,Notification as _0xd0109a}from'ckeditor5/src/ui';import _0x572a20 from'./exportwordcommand';import _0x255526 from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x284cac{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0xd0109a];}['init'](){const _0x32cb1b=this['editor'],t=_0x32cb1b['t'],_0x44c864=_0x32cb1b['config']['get']('exportWord')||{};_0x32cb1b['commands']['add']('exportWord',new _0x572a20(_0x32cb1b)),_0x32cb1b['ui']['componentFactory']['add']('exportWord',_0x4b7ce9=>{const _0x24e826=_0x32cb1b['commands']['get']('exportWord'),_0x4acd7a=new _0x1aaf84(_0x4b7ce9);_0x4acd7a['set']({'label':t('Export\x20to\x20Word'),'icon':_0x255526,'tooltip':!0x0}),_0x4acd7a['bind']('isOn','isEnabled')['to'](_0x24e826,'isBusy','isEnabled'),_0x4acd7a['extendTemplate']({'attributes':{'class':[_0x4acd7a['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0xbac8cd=new _0x335572();return _0xbac8cd['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0x4acd7a['children']['add'](_0xbac8cd),this['listenTo'](_0x4acd7a,'execute',()=>{_0x32cb1b['execute']('exportWord',_0x44c864),_0x32cb1b['editing']['view']['focus']();}),_0x4acd7a;});const _0x5572b0=_0x32cb1b['plugins']['get']('CloudServices');if(!0x1===_0x44c864['tokenUrl'])this['_token']=null;else{if(_0x44c864['tokenUrl'])return _0x5572b0['registerTokenUrl'](_0x44c864['tokenUrl'])['then'](_0x11e9d7=>{this['_token']=_0x11e9d7;});this['_token']=_0x5572b0['token'];}}}